# Stock Analysis Viewer

A modern, responsive web application built with Next.js to visualize comprehensive stock analysis reports generated by the LLM Stock Analysis Tool.

## Features

### 📊 Comprehensive Data Visualization
- **Stock Overview**: Current price, market cap, P/E ratio, beta, and key metrics
- **Technical Analysis**: Interactive charts and indicators with confidence scores
- **Strategic Signal Combinations**: RSI+MACD, Bollinger+RSI+MACD, MA+RSI+Volume strategies
- **Correlation Analysis**: Market correlation charts and diversification scores
- **News Analysis**: Recent news articles with sentiment analysis
- **AI-Generated Insights**: LLM-powered technical, fundamental, and news analysis

### 🎨 Modern UI/UX
- Clean, professional design with Tailwind CSS
- Responsive layout that works on desktop, tablet, and mobile
- Interactive charts using Recharts library
- Color-coded signals (bullish/bearish/neutral)
- Smooth animations and transitions

### 🔄 Data Management
- **Automatic Report Loading**: Automatically loads available analysis reports from the reports directory
- **Dropdown Selector**: Easy switching between different stock analysis reports
- **File Upload**: Support for custom JSON analysis files
- **Demo Data**: Built-in sample data for testing (bullish and bearish scenarios)
- **Error Handling**: Comprehensive validation and user feedback
- **Report Synchronization**: Automatic syncing of new reports from the main analysis tool

## Getting Started

### Prerequisites
- Node.js 18+ 
- npm or yarn

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd stock-analysis-viewer
   ```

2. **Install dependencies**
   ```bash
   npm install
   # or
   yarn install
   ```

3. **Sync analysis reports** (optional - reports are automatically copied during setup)
   ```bash
   npm run sync-reports
   ```

4. **Run the development server**
   ```bash
   npm run dev
   # or
   yarn dev
   ```

5. **Open your browser**
   Navigate to [http://localhost:3000](http://localhost:3000)

## Usage

### 1. Automatic Report Loading

The application automatically loads all available JSON analysis reports from the `../reports` directory. When you open the application:

1. **Auto-selection**: The first available report is automatically loaded
2. **Dropdown Navigation**: Use the dropdown to switch between different stock reports
3. **Real-time Updates**: New reports appear automatically after running the sync command

### 2. Generate New Reports

To create new analysis reports that will appear in the dropdown:

```bash
# Navigate to the LLM Stock Analysis Tool directory
cd ../llm-stock-analysis

# Generate analysis with JSON output
python src/main.py --ticker AAPL --detailed --save-report --format json

# Sync the new reports to the viewer
cd stock-analysis-viewer
npm run sync-reports
```

### 3. Manual File Upload

You can still upload custom JSON files:
- Click "Upload Custom Analysis Report"
- Select a JSON file from your computer
- The report will be loaded immediately

### 4. View Demo Data

Click the demo buttons to see sample analysis reports:
- **"View Demo Data (Bullish)"**: Shows a positive analysis example
- **"View Sample Data (Bearish)"**: Shows a negative analysis example

## Report Synchronization

The application includes a built-in synchronization system:

### Automatic Sync
- Reports are automatically copied from `../reports` to `public/reports` during initial setup
- Only JSON files are synchronized
- Existing files are only updated if the source is newer

### Manual Sync
```bash
npm run sync-reports
```

This command:
- ✅ Copies new JSON reports from the main reports directory
- ⏭️ Skips files that are already up to date
- 📊 Provides a summary of copied and skipped files

### API Endpoint
The application includes an API endpoint at `/api/reports` that:
- Scans the `public/reports` directory
- Returns metadata about available reports (ticker, date, time)
- Provides file paths for the frontend dropdown

## File Structure

```
stock-analysis-viewer/
├── src/
│   ├── app/
│   │   ├── api/
│   │   │   └── reports/
│   │   │       └── route.ts      # API endpoint for report listing
│   │   ├── page.tsx              # Main application page with dropdown
│   │   ├── layout.tsx            # Root layout
│   │   └── globals.css           # Global styles
│   ├── components/
│   │   ├── StockOverview.tsx     # Stock information display
│   │   ├── TechnicalAnalysis.tsx # Technical indicators and charts
│   │   ├── CorrelationChart.tsx  # Market correlation visualization
│   │   ├── NewsSection.tsx       # News articles display
│   │   └── AIInsights.tsx        # LLM-generated insights
│   └── types/
│       └── analysis.ts           # TypeScript interfaces
├── public/
│   ├── reports/                  # Auto-synced analysis reports
│   └── sample-analysis.json      # Sample bearish analysis data
├── scripts/
│   └── sync-reports.js           # Report synchronization script
├── package.json
└── README.md
```

## Data Format

The application expects JSON files with the following structure:

```typescript
interface StockAnalysisResult {
  ticker: string;
  analysis_date: string;
  stock_info: StockInfo;
  technical_analysis: TechnicalAnalysis;
  correlation_analysis: CorrelationAnalysis;
  fundamental_analysis: any;
  news_analysis: NewsAnalysis;
  llm_insights: LLMInsights;
  recommendation: Recommendation;
  summary: Summary;
  charts: Charts;
}
```

See `src/types/analysis.ts` for complete interface definitions.

## Components Overview

### StockOverview
- Displays current stock price with change indicators
- Shows key metrics in a responsive grid layout
- Includes market cap, volume, P/E ratio, beta, and sector information

### TechnicalAnalysis
- Overall signal with confidence percentage
- Strategic signal combinations with scores
- Momentum indicators (RSI, Stochastic) with visual gauges
- Trend indicators (MACD) with signal interpretation
- Moving averages analysis

### CorrelationChart
- Interactive bar chart showing market correlations
- Beta coefficient display
- Diversification score with visual indicator

### NewsSection
- Recent news articles with timestamps
- Article summaries and sentiment indicators
- Responsive card layout

### AIInsights
- Markdown-rendered LLM insights for technical, fundamental, and news analysis
- Investment recommendations with risk factors
- Executive summary with key takeaways

## Customization

### Styling
The application uses Tailwind CSS for styling. You can customize:
- Colors in the signal indicators
- Layout spacing and sizing
- Component styling in individual component files

### Charts
Charts are built with Recharts. You can modify:
- Chart types and configurations in `CorrelationChart.tsx`
- Color schemes and data presentation
- Interactive features and tooltips

### Export Features
PDF export can be customized by modifying the HTML template in the `handleExportPDF` function in `page.tsx`.

## Dependencies

### Core
- **Next.js 15.3.3**: React framework with App Router
- **React 19**: UI library
- **TypeScript**: Type safety

### UI & Styling
- **Tailwind CSS 4**: Utility-first CSS framework
- **Lucide React**: Icon library
- **React Markdown**: Markdown rendering for AI insights

### Charts & Visualization
- **Recharts 2.15.3**: Chart library for correlation visualization

## Browser Support

- Chrome/Chromium 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Performance

- Optimized bundle size with Next.js automatic code splitting
- Lazy loading of components
- Efficient re-rendering with React hooks
- Responsive images and assets

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Related Projects

- **LLM Stock Analysis Tool**: Python tool for generating the analysis data
- **AI Hedge Fund**: Advanced portfolio management system

## Support

For issues and questions:
1. Check the existing issues in the repository
2. Create a new issue with detailed description
3. Include sample data and error messages if applicable

---

Built with ❤️ using Next.js, TypeScript, and Tailwind CSS
